(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{418:function(e,t,a){Promise.resolve().then(a.bind(a,7878))},7878:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),l=a(2265);let r="http://localhost:8000";class n extends Error{constructor(e,t){super(t),this.code=e,this.name="ApiClientError"}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.endsWith("/")?r.slice(0,-1):r,s=e.startsWith("/")?e:"/".concat(e),l="".concat(a).concat(s),d={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(l,d);if(!e.ok){let t;try{t=await e.json()}catch(a){t={code:"UNKNOWN_ERROR",message:"HTTP ".concat(e.status,": ").concat(e.statusText)}}throw new n(t.code||"HTTP_ERROR",t.message||"HTTP ".concat(e.status,": ").concat(e.statusText))}return await e.json()}catch(e){if(e instanceof n)throw e;throw new n("NETWORK_ERROR",e instanceof Error?e.message:"Unknown network error")}}async function i(e){return d("/api/score",{method:"POST",body:JSON.stringify(e)})}var o=a(7648);function c(){let[e,t]=(0,l.useState)({age:30,income:5e3,loanamount:1e4,interestrate:.08,loanterm:36,dtiratio:.15,employmenttype:"Salaried",maritalstatus:"Single",loanpurpose:"Education",hasdependents:0}),[a,r]=(0,l.useState)(null),[d,c]=(0,l.useState)(!1),[x,u]=(0,l.useState)(null),m=e=>{let{name:a,value:s}=e.target;t(e=>({...e,[a]:"hasdependents"===a||"age"===a||"loanterm"===a?parseInt(s,10):"interestrate"===a||"dtiratio"===a?parseFloat(s):"income"===a||"loanamount"===a?parseFloat(s):s})),r(null),u(null)},b=async t=>{t.preventDefault(),c(!0),u(null),r(null);try{let t=await i(e);r(t)}catch(e){e instanceof n?u(e.message):u("An unexpected error occurred. Please try again.")}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-12 px-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(o.default,{href:"/",className:"inline-flex items-center gap-2 text-sm text-slate-600 hover:text-indigo-600 mb-4",children:[(0,s.jsx)("span",{className:"material-symbols-outlined",children:"arrow_back"}),"Back to Home"]}),(0,s.jsx)("h1",{className:"text-4xl font-black text-slate-900 dark:text-white mb-2",children:"Loan Scoring Portal"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Submit loan application details for AI-powered risk assessment"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-800 p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6",children:"Application Details"}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Age"}),(0,s.jsx)("input",{type:"number",name:"age",value:e.age,onChange:m,min:"18",max:"100",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Income"}),(0,s.jsx)("input",{type:"number",name:"income",value:e.income,onChange:m,min:"0",step:"100",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Loan Amount"}),(0,s.jsx)("input",{type:"number",name:"loanamount",value:e.loanamount,onChange:m,min:"0",step:"100",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (e.g., 0.08 for 8%)"}),(0,s.jsx)("input",{type:"number",name:"interestrate",value:e.interestrate,onChange:m,min:"0",max:"1",step:"0.01",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Loan Term (months)"}),(0,s.jsx)("input",{type:"number",name:"loanterm",value:e.loanterm,onChange:m,min:"1",max:"360",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Debt-to-Income Ratio (e.g., 0.18 for 18%)"}),(0,s.jsx)("input",{type:"number",name:"dtiratio",value:e.dtiratio,onChange:m,min:"0",max:"1",step:"0.01",required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Employment Type"}),(0,s.jsxs)("select",{name:"employmenttype",value:e.employmenttype,onChange:m,required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",children:[(0,s.jsx)("option",{value:"Salaried",children:"Salaried"}),(0,s.jsx)("option",{value:"Self-Employed",children:"Self-Employed"}),(0,s.jsx)("option",{value:"Unemployed",children:"Unemployed"}),(0,s.jsx)("option",{value:"Retired",children:"Retired"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Marital Status"}),(0,s.jsxs)("select",{name:"maritalstatus",value:e.maritalstatus,onChange:m,required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",children:[(0,s.jsx)("option",{value:"Single",children:"Single"}),(0,s.jsx)("option",{value:"Married",children:"Married"}),(0,s.jsx)("option",{value:"Divorced",children:"Divorced"}),(0,s.jsx)("option",{value:"Widowed",children:"Widowed"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Loan Purpose"}),(0,s.jsxs)("select",{name:"loanpurpose",value:e.loanpurpose,onChange:m,required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",children:[(0,s.jsx)("option",{value:"Education",children:"Education"}),(0,s.jsx)("option",{value:"Home",children:"Home"}),(0,s.jsx)("option",{value:"Business",children:"Business"}),(0,s.jsx)("option",{value:"Personal",children:"Personal"}),(0,s.jsx)("option",{value:"Medical",children:"Medical"}),(0,s.jsx)("option",{value:"Vehicle",children:"Vehicle"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Has Dependents"}),(0,s.jsxs)("select",{name:"hasdependents",value:e.hasdependents,onChange:m,required:!0,className:"w-full h-12 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-4 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none",children:[(0,s.jsx)("option",{value:0,children:"No"}),(0,s.jsx)("option",{value:1,children:"Yes"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:d,className:"w-full h-14 bg-indigo-600 text-white rounded-xl font-black text-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-indigo-600/30",children:d?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"material-symbols-outlined animate-spin",children:"sync"}),"Processing..."]}):"Submit for Scoring"})]})]}),(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-800 p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-900 dark:text-white mb-6",children:"Scoring Results"}),d&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-6xl text-indigo-600 animate-spin mb-4",children:"sync"}),(0,s.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Analyzing application..."})]}),x&&(0,s.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-red-600",children:"error"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-red-900 dark:text-red-200 mb-1",children:"Error"}),(0,s.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:x})]})]})}),a&&!d&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-6",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-400 mb-2",children:"Default Probability"}),(0,s.jsxs)("p",{className:"text-3xl font-black text-slate-900 dark:text-white",children:[(100*a.default_probability).toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-6",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-400 mb-2",children:"Risk Band"}),(0,s.jsx)("span",{className:"inline-block px-4 py-2 rounded-lg font-bold text-sm border ".concat((e=>{switch(null==e?void 0:e.toUpperCase()){case"LOW":return"bg-green-100 text-green-800 border-green-300";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"HIGH":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(a.risk_band)),children:a.risk_band})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-6",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-400 mb-3",children:"Model Decision"}),(0,s.jsx)("span",{className:"inline-block px-6 py-3 rounded-xl font-black text-lg border ".concat((e=>{switch(null==e?void 0:e.toUpperCase()){case"APPROVE":return"bg-green-100 text-green-800 border-green-300";case"REJECT":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(a.model_decision)),children:a.model_decision})]}),a.top_factors&&a.top_factors.length>0&&(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-6",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-400 mb-4",children:"Top Influencing Factors"}),(0,s.jsx)("div",{className:"space-y-2",children:a.top_factors.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-900 rounded-lg p-3",children:[(0,s.jsx)("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 font-bold text-sm",children:t+1}),(0,s.jsx)("span",{className:"text-slate-900 dark:text-white font-medium capitalize",children:e})]},t))})]})]}),!a&&!d&&!x&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-6xl text-slate-300 dark:text-slate-700 mb-4",children:"assessment"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400",children:"Submit an application to see scoring results"})]})]})]})]})})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=418)}),_N_E=e.O()}]);